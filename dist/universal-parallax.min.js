"use strict";var windowHeight=window.innerHeight,windowHeightExtra=0,safari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),mobile=/Mobi/.test(navigator.userAgent);function positionParallax(e,t,a,n){var i=e.top/t-windowHeightExtra;a[n].style.top=i+"px"}function animateParallax(e,t){for(var a=0;e.length>a;a++){var n=e[a].parentElement.parentElement.getBoundingClientRect();0<=n.top+n.height&&n.top<=windowHeight&&positionParallax(n,t,e,a)}}function calculateHeight(e,t){for(var a=0;e.length>a;a++){var n=e[a].parentElement.parentElement.getBoundingClientRect(),i=(windowHeight-n.height)/2,l=n.height+2*(i-i/t);e[a].style.height=l+2*windowHeightExtra+"px",positionParallax(n,t,e,a)}}safari&&!mobile&&(windowHeightExtra=window.outerHeight-window.innerHeight),mobile&&(windowHeight=window.screen.availHeight,windowHeightExtra=(window.screen.availHeight-window.innerHeight)/2);var universalParallax=function(){this.init=function(e){void 0===e&&(e={}),e={speed:void 0!==e.speed?e.speed:1.5,scrollElement:void 0!==e.scrollElement?e.scrollElement:window,className:void 0!==e.className?e.className:"parallax"};for(var t,a,n=document.getElementsByClassName(e.className),i=0;n.length>i;i++){var l=document.createElement("div");n[i].parentNode.insertBefore(l,n[i]),l.appendChild(n[i]);var o=n[i].parentElement;o.className+="parallax__container","relative"!==window.getComputedStyle(o.parentElement,null).getPropertyValue("position")&&(o.parentElement.style.position="relative");var r=n[i].dataset.parallaxImage;void 0!==r&&(n[i].style.backgroundImage="url("+r+")",1===n[i].classList.length&&"parallax"===n[i].classList[0]&&Object.assign(n[i].style,{"background-repeat":"no-repeat","background-position":"center","background-size":"cover"}))}t=n,a=e.speed,e.scrollElement,a<1&&(a=1),calculateHeight(t,a),mobile||scrollElement.addEventListener("resize",function(){windowHeight=window.innerHeight,calculateHeight(t,a)}),scrollElement.addEventListener("scroll",function(){animateParallax(t,a,scrollElement)})}};