"use strict";var windowHeight=window.innerHeight,windowHeightExtra=0,safari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),mobile=/Mobi/.test(navigator.userAgent);function positionParallax(e,a,t,i){var n=e.top/a-windowHeightExtra;t[i].style.top=n+"px"}function animateParallax(e,a){for(var t=0;e.length>t;t++){var i=e[t].parentElement.parentElement.getBoundingClientRect();0<=i.top+i.height&&i.top<=windowHeight&&positionParallax(i,a,e,t)}}function calculateHeight(e,a){for(var t=0;e.length>t;t++){var i=e[t].parentElement.parentElement.getBoundingClientRect(),n=(windowHeight-i.height)/2,r=i.height+2*(n-n/a);e[t].style.height=r+2*windowHeightExtra+"px",positionParallax(i,a,e,t)}}safari&&!mobile&&(windowHeightExtra=window.outerHeight-window.innerHeight),mobile&&(windowHeight=window.screen.availHeight,windowHeightExtra=(window.screen.availHeight-window.innerHeight)/2);var universalParallax=function(){this.init=function(e){void 0===e&&(e={}),e={speed:void 0!==e.speed?e.speed:1.5,className:void 0!==e.className?e.className:"parallax"};for(var a,t,i=document.getElementsByClassName(e.className),n=0;i.length>n;n++){var r=document.createElement("div");i[n].parentNode.insertBefore(r,i[n]),r.appendChild(i[n]);var l=i[n].parentElement;l.className+="parallax__container","relative"!==window.getComputedStyle(l.parentElement,null).getPropertyValue("position")&&(l.parentElement.style.position="relative");var o=i[n].dataset.parallaxImage;void 0!==o&&(i[n].style.backgroundImage="url("+o+")",1===i[n].classList.length&&"parallax"===i[n].classList[0]&&Object.assign(i[n].style,{"background-repeat":"no-repeat","background-position":"center","background-size":"cover"}))}a=i,(t=e.speed)<1&&(t=1),calculateHeight(a,t),mobile||window.addEventListener("resize",function(){windowHeight=window.innerHeight,calculateHeight(a,t)}),window.addEventListener("scroll",function(){animateParallax(a,t)})}};window.universalParallax=universalParallax;